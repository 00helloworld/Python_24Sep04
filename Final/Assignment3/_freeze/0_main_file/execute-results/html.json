{
  "hash": "5b55efee2fa1c6c1cde2512272f8a968",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Assignment3\nauthors:\n  - name: Jiacheng Li\n    affiliation: The University of Auckland\n    email: \n    roles: writing\n    corresponding: true\nbibliography: references.bib\nabstract: This report analyzes the voter information for the top three candidates in terms of donations and voter support of Barack Obama, Ron Paul, and Mitt Romney. \nkeywords: Quarto, Election Campaigns, Voter Behavior\ndate: 04-09-2024\n---\n\n\n\n\n\n\n\n\n\n\n# Introduction\nIn modern election campaigns, data analysis plays a crucial role in understanding voter behavior and financial contributions. By examining voting patterns and donation distributions, we can gain insights into the support base of leading candidates. This report focuses on analyzing the voter information for the top three candidates based on the number of votes received: Barack Obama, Ron Paul, and Mitt Romney. The analysis primarily focuses on the distribution of voters and their spending patterns.\n\n::: {#13cc2697 .cell execution_count=1}\n``` {.python .cell-code code-fold=\"true\" code-line-numbers=\"true\"}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\ndata = pd.read_csv('P00000001-ALL.csv')\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n```\n/var/folders/hk/p7fcnhm10z92trzs_9kwqlyr0000gn/T/ipykernel_27451/800280945.py:4: DtypeWarning:\n\nColumns (6) have mixed types. Specify dtype option on import or set low_memory=False.\n\n```\n:::\n:::\n\n\n:::{#a3834c02 .cell .markdown}\n# Top 3 Candidates\n## Summary\nIn terms of both donation amount and donor count, Obama, Romney, and Paul rank among the top three candidates. Therefore, we focus our analysis on the voter information of these three candidates.\n\n## Donors\n\n\n\n\n\n\n\n{{< embed DataExplore.ipynb#fig >}}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Contributions\n:::\n\n::: {#2a7b9c93 .cell execution_count=2}\n``` {.python .cell-code .hidden}\n# donation by candidate\ndonations_by_candidate = data.groupby('cand_nm')['contb_receipt_amt'].sum()\n\n# descending order\ndonations_by_candidate_sorted = donations_by_candidate.sort_values(ascending=False)\n\n# pie chart\nplt.figure(figsize=(8,8))\nplt.pie(donations_by_candidate_sorted, labels=donations_by_candidate_sorted.index, \n        autopct='%1.1f%%', startangle=90, counterclock=False)\nplt.title('Donation Percentage by Candidate')\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-3-output-1.png){width=753 height=693}\n:::\n:::\n\n\n:::{#5a00fbd3 .cell .markdown}\n# Statewise Total Donations for Barack Obama, Ron Paul, and Mitt Romney\n\n## Summary\nOverall, Obama leads in donations across both large and small states, reflecting his broader nationwide support. Romney, on the other hand, relies on donations from a few key states, indicating a more concentrated and elite-based fundraising structure. Paul's grassroots supporters, though widespread, contribute smaller amounts overall.\n\n## Barack Obama\n:::\n\n::: {#2ebac570 .cell execution_count=3}\n``` {.python .cell-code .hidden}\n# donation by state Obama, Barack\ndonations_by_state = data[data['cand_nm']=='Obama, Barack'].groupby('contbr_st')['contb_receipt_amt'].sum()\n\n# bar chart\ndonations_by_state_sorted = donations_by_state.sort_values(ascending=False)\nplt.figure(figsize=(12,6))\ndonations_by_state_sorted.plot(kind='bar', color='lightgreen')\nplt.title('Obama, Barack Total Donations by State (Sorted)')\nplt.ylabel('Total Donation Amount')\nplt.xlabel('State')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-4-output-1.png){width=1142 height=566}\n:::\n:::\n\n\n:::{#7962189c .cell .markdown}\n## Ron Paul\n:::\n\n::: {#e9b6d6c4 .cell execution_count=4}\n``` {.python .cell-code .hidden}\n# donation by state Paul, Ron\ndonations_by_state = data[data['cand_nm']=='Paul, Ron'].groupby('contbr_st')['contb_receipt_amt'].sum()\n\n# bar chart\ndonations_by_state_sorted = donations_by_state.sort_values(ascending=False)\nplt.figure(figsize=(12,6))\ndonations_by_state_sorted.plot(kind='bar', color='lightcoral')\nplt.title('Paul, Ron Total Donations by State (Sorted)')\nplt.ylabel('Total Donation Amount')\nplt.xlabel('State')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-5-output-1.png){width=1142 height=566}\n:::\n:::\n\n\n:::{#65de03c7 .cell .markdown}\n## Mitt Romney\n:::\n\n::: {#3b5e129c .cell execution_count=5}\n``` {.python .cell-code .hidden}\n# donation by state Romney, Mitt\ndonations_by_state = data[data['cand_nm']=='Romney, Mitt'].groupby('contbr_st')['contb_receipt_amt'].sum()\n\n# bar chart\ndonations_by_state_sorted = donations_by_state.sort_values(ascending=False)\nplt.figure(figsize=(12,6))\ndonations_by_state_sorted.plot(kind='bar', color='lightblue')\nplt.title('Romney, Mitt Total Donations by State (Sorted)')\nplt.ylabel('Total Donation Amount')\nplt.xlabel('State')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-6-output-1.png){width=1142 height=566}\n:::\n:::\n\n\n:::{#8c2e815c .cell .markdown}\n# Average Donation Amount per State for Barack Obama, Ron Paul, and Mitt Romney\n\n## Summary\nRomney heavily relies on large donations from a few contributors, particularly excelling in certain key states. This fundraising strategy seems to depend on a more elite network of donors. On the other hand, Obama draws more from small donations by ordinary voters. Although his average donation is lower than Romney's, his broad nationwide support gives him a strong competitive advantage in fundraising. Paul's donor base is widespread but with limited funding, indicating that his supporters primarily contribute smaller amounts, which puts him at a disadvantage in overall fundraising efforts.\n\n## Barack Obama\n:::\n\n::: {#ed00b1ed .cell execution_count=6}\n``` {.python .cell-code .hidden}\n# donation and donors by state\ntotal_donations_by_state = data[data['cand_nm']=='Obama, Barack'].groupby('contbr_st')['contb_receipt_amt'].sum()\ndonation_count_by_state = data[data['cand_nm']=='Obama, Barack'].groupby('contbr_st')['contb_receipt_amt'].count()\n\n# average donation per donor by state\naverage_donation_by_state = total_donations_by_state / donation_count_by_state\n\n# drop 0\naverage_donation_by_state = average_donation_by_state[average_donation_by_state > 0]\n\n# descending order\naverage_donation_by_state_sorted = average_donation_by_state.sort_values(ascending=False)\n\n# bar chart\nplt.figure(figsize=(12,6))\naverage_donation_by_state_sorted.plot(kind='bar', color='lightgreen')\nplt.title('Obama, Barack Average Donation per Donor by State (Sorted)')\nplt.ylabel('Average Donation Amount')\nplt.xlabel('State')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-7-output-1.png){width=1142 height=566}\n:::\n:::\n\n\n:::{#1de78bff .cell .markdown}\n## Ron Paul\n:::\n\n::: {#ad5353af .cell execution_count=7}\n``` {.python .cell-code .hidden}\n# donation and donors by state\ntotal_donations_by_state = data[data['cand_nm']=='Paul, Ron'].groupby('contbr_st')['contb_receipt_amt'].sum()\ndonation_count_by_state = data[data['cand_nm']=='Paul, Ron'].groupby('contbr_st')['contb_receipt_amt'].count()\n\n# average donation per donor by state\naverage_donation_by_state = total_donations_by_state / donation_count_by_state\n\n# drop 0\naverage_donation_by_state = average_donation_by_state[average_donation_by_state > 0]\n\n# descending order\naverage_donation_by_state_sorted = average_donation_by_state.sort_values(ascending=False)\n\n# bar chart\nplt.figure(figsize=(12,6))\naverage_donation_by_state_sorted.plot(kind='bar', color='lightcoral')\nplt.title('Paul, Ron Average Donation per Donor by State (Sorted)')\nplt.ylabel('Average Donation Amount')\nplt.xlabel('State')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-8-output-1.png){width=1142 height=566}\n:::\n:::\n\n\n:::{#58735cb0 .cell .markdown}\n## Mitt Romney\n:::\n\n::: {#bd02dbc6 .cell execution_count=8}\n``` {.python .cell-code .hidden}\n# donation and donors by state\ntotal_donations_by_state = data[data['cand_nm']=='Romney, Mitt'].groupby('contbr_st')['contb_receipt_amt'].sum()\ndonation_count_by_state = data[data['cand_nm']=='Romney, Mitt'].groupby('contbr_st')['contb_receipt_amt'].count()\n\n# average donation per donor by state\naverage_donation_by_state = total_donations_by_state / donation_count_by_state\n\n# drop 0\naverage_donation_by_state = average_donation_by_state[average_donation_by_state > 0]\n\n# descending order\naverage_donation_by_state_sorted = average_donation_by_state.sort_values(ascending=False)\n\n# bar chart\nplt.figure(figsize=(12,6))\naverage_donation_by_state_sorted.plot(kind='bar', color='lightblue')\nplt.title('Romney, Mitt Average Donation per Donor by State (Sorted)')\nplt.ylabel('Average Donation Amount')\nplt.xlabel('State')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-9-output-1.png){width=1142 height=566}\n:::\n:::\n\n\n:::{#080d98da .cell .markdown}\n## Overall\n:::\n\n::: {#c85abb2f .cell execution_count=9}\n``` {.python .cell-code .hidden}\n# 'Obama, Barack', 'Paul, Ron', 和 'Romney, Mitt'\nselected_candidates = ['Obama, Barack', 'Paul, Ron', 'Romney, Mitt']\n\n# donation\ntotal_donations_by_candidate = data[data['cand_nm'].isin(selected_candidates)].groupby('cand_nm')['contb_receipt_amt'].sum()\n\n# donors\ndonation_count_by_candidate = data[data['cand_nm'].isin(selected_candidates)].groupby('cand_nm')['contb_receipt_amt'].count()\n\n# average donation per donor\naverage_donation_by_candidate = total_donations_by_candidate / donation_count_by_candidate\n\n# drop 0\naverage_donation_by_candidate = average_donation_by_candidate[average_donation_by_candidate > 0]\n\n# descending order\naverage_donation_by_candidate_sorted = average_donation_by_candidate.sort_values(ascending=False)\n\n# bar chart\nplt.figure(figsize=(8,6))\naverage_donation_by_candidate_sorted.plot(kind='bar', color=['lightblue', 'lightgreen', 'lightcoral'])\nplt.title('Average Donation per Donor for Obama, Paul, and Romney')\nplt.ylabel('Average Donation Amount')\nplt.xlabel('Candidate')\nplt.xticks(rotation=0)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-10-output-1.png){width=758 height=566}\n:::\n:::\n\n\n:::{#c0c54b5b .cell .markdown}\n# Vote Share by State for Barack Obama, Ron Paul, and Mitt Romney\n\n## Summary\nObama has a broader support base in most states, with the largest percentage of donors. Romney's support is concentrated in a few key states, where he demonstrates a strong regional advantage. Paul's supporters are more widely distributed, but their proportion is relatively low, indicating that while he has widespread grassroots support, his overall influence is not as strong as Obama's or Romney's.\n\n## Overall\n:::\n\n::: {#cfdd2afd .cell execution_count=10}\n``` {.python .cell-code .hidden}\n# 'Obama, Barack', 'Paul, Ron', 和 'Romney, Mitt' 三位候选人的数据\nselected_candidates = ['Obama, Barack', 'Paul, Ron', 'Romney, Mitt']\nfiltered_data = data[data['cand_nm'].isin(selected_candidates)]\n# donors\ndonors_by_candidate_state = filtered_data.groupby(['contbr_st', 'cand_nm'])['contbr_nm'].nunique().unstack()\n\n# fill na with 0\ndonors_by_candidate_state = donors_by_candidate_state.fillna(0)\n\n# donors by state\ntotal_donors_by_state = donors_by_candidate_state.sum(axis=1)\n\n# percentage by state\ndonor_percentage_by_candidate_state = donors_by_candidate_state.div(total_donors_by_state, axis=0) * 100\n\n# bar chart\ndonor_percentage_by_candidate_state.plot(kind='bar', figsize=(14,7), color=['lightgreen', 'lightcoral', 'blue'])\nplt.title('Percentage of Donors by State for Obama, Paul, and Romney')\nplt.ylabel('Percentage of Total Donors (%)')\nplt.xlabel('State')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\n# show\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](0_main_file_files/figure-html/cell-11-output-1.png){width=1334 height=662}\n:::\n:::\n\n\n:::{#d39ffe78 .cell .markdown}\n# Conclusion\nIn this report, we analyzed the voter information for the top three candidates, Barack Obama, Ron Paul, and Mitt Romney, focusing on their statewise donations, average donation amounts, and vote shares. The data reveals clear differences in the support bases and fundraising strategies of each candidate.\n\nObama's broad national appeal is evident from his widespread support across both large and small states, where he consistently led in both donor numbers and total contributions. His reliance on smaller individual donations underscores his broad, grassroots appeal, providing him with a competitive advantage across the country.\n\nRomney's fundraising efforts, while also significant, are more concentrated in key states, suggesting a reliance on high-net-worth donors. His ability to attract large donations in a few critical areas highlights his regional strengths, but this strategy may limit his broader appeal compared to Obama.\n\nPaul, though widely supported by grassroots donors, faces challenges in fundraising due to the relatively smaller contribution amounts. While his support is spread across many states, the overall financial backing he receives is less robust than that of his competitors, which may impact his ability to maintain competitiveness.\n\nIn summary, the distribution of voter support and donation patterns clearly differentiates these three candidates, with Obama showing the broadest and most balanced support, Romney excelling in high-value contributions from key states, and Paul drawing more modest contributions from a wide, grassroots base.\n:::\n\n",
    "supporting": [
      "0_main_file_files"
    ],
    "filters": [],
    "includes": {}
  }
}